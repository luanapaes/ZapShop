<h2 mat-dialog-title>Adicionar marca</h2>
<mat-dialog-content>
    <div class="create-marca-container">
        <form [formGroup]="marcaForm">
            <div class="view-image">
                <img [src]="imageSrc" alt="Selecione uma imagem" class="card-img" id="uploaded-image" src="#">
                <div class="card-body">
                    <input type="file" accept="image/*" formControlName="logomarma" required="true"
                        (change)="onFileSelected($event)" class="form-control" id="upload-input">
                </div>
            </div>

            <label>Nome da marca
                <input type="text" formControlName="nome_marca" placeholder="Ex.: Natura">
            </label>

            <mat-form-field>
                <mat-label>Categorias</mat-label>
                <mat-select [formControl]="marcaForm.controls.categorias" multiple>
                    <mat-select-trigger>
                        {{marcaForm.controls.categorias.value?.[0] || ''}}
                        @if ((marcaForm.controls.categorias.value?.length || 0) > 1) {
                        <span class="example-additional-selection">
                            (+{{(marcaForm.controls.categorias.value?.length || 0) - 1}}
                            {{marcaForm.controls.categorias.value?.length === 2 ? 'outra' : 'outras'}})
                        </span>
                        }
                    </mat-select-trigger>
                    @for (categoria of categoriasList; track categoria) {
                    <mat-option [value]="categoria">{{categoria}}</mat-option>
                    }
                </mat-select>
            </mat-form-field>
        </form>
    </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Cancelar</button>
    <button mat-button [mat-dialog-close]="true" cdkFocusInitial>Cadastrar</button>
</mat-dialog-actions>